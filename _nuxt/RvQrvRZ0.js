import{_ as V}from"./DYqUNwZH.js";import{d as w,a as f,o as g,B as C,C as S,D,h as y,i as L,b as t,w as $,q as p,A as m,u as o,E as R,s as _,k,t as v,e as A,p as j,c as N}from"#entry";import{u as q,a as E}from"./kSnjX3Ki.js";import{u as U}from"./BsNQwHGb.js";const T=w({__name:"ProfileSave",emits:["saveProfile"],setup(x,{emit:n}){const d=n;function s(){d("saveProfile")}return(c,a)=>(g(),f("button",{onClick:s,class:"px-6 text-center text-sm py-2 uppercase w-full rounded font-bold bg-pottery-light-primary text-white hover:bg-pottery-light-primaryHover active:bg-pottery-light-primaryActive dark:bg-pottery-dark-primary dark:hover:bg-pottery-dark-primaryHover dark:active:bg-pottery-dark-primaryActive focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pottery-light-accent dark:focus:ring-pottery-dark-accent focus:ring-offset-pottery-light-bg dark:focus:ring-offset-pottery-dark-bg transition"}," Save "))}}),B=Object.assign(T,{__name:"CTAProfileSave"}),F=()=>{const{userProfile:x,getUserProfile:n,updateUserProfile:d}=q(),s=C("userProfile",()=>null);return S(()=>{s.value=x.value}),{profile:s,getProfile:async()=>await n(),updateProfile:async r=>await d(r)}},H={class:"min-h-screen flex flex-col items-center justify-center"},I={class:"flex pb-2 w-full justify-between"},M={class:"p-8 grid grid-cols-1 md:grid-cols-2 gap-8"},O={class:"space-y-4"},z={class:"mb-4"},G={class:"flex items-center space-x-2"},J={class:"space-y-6"},K=["disabled"],Q={class:"mt-6 w-full max-w-4xl text-right"},W=w({__name:"UserProfile",async setup(x){let n,d;E();const{handleLogout:s}=U(),{getProfile:c,updateProfile:a}=F(),r=([n,d]=D(()=>c()),n=await n,d(),n),l=y(!1);L(()=>r.address.delivery,P=>{l.value&&(r.address.invoice=P)});async function b(){await a(r)}function h(){s()}return(P,e)=>{const u=B;return g(),f("div",H,[t("div",I,[e[6]||(e[6]=t("h2",{class:"text-2xl font-bold py-4"},"User Account",-1)),t("button",{onClick:$(h,["prevent"]),class:"text-sm font-bold uppercase text-pottery-light-primary dark:text-pottery-dark-primary"},"Logout")]),t("div",M,[t("div",null,[e[10]||(e[10]=t("h2",{class:"text-xl font-semibold mb-4 border-b pb-2"},"User Information",-1)),t("div",O,[t("div",null,[e[7]||(e[7]=t("label",{class:"block text-sm font-medium text-gray-600"},"Name",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>o(r).name=i),type:"text",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(r).name]])]),t("div",null,[e[8]||(e[8]=t("label",{class:"block text-sm font-medium text-gray-600"},"Phone",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>o(r).phone=i),type:"tel",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(r).phone]])]),t("div",null,[e[9]||(e[9]=t("label",{class:"block text-sm font-medium text-gray-600"},"Email",-1)),p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>o(r).email=i),type:"email",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(r).email]])])])]),t("div",null,[e[14]||(e[14]=t("h2",{class:"text-xl font-semibold mb-4 border-b pb-2"},"Addresses",-1)),t("div",z,[t("label",G,[p(t("input",{type:"checkbox","onUpdate:modelValue":e[3]||(e[3]=i=>_(l)?l.value=i:null),class:"h-4 w-4 text-pottery-light-link border-gray-300 rounded"},null,512),[[R,o(l)]]),e[11]||(e[11]=t("span",{class:"text-sm text-gray-700"},"Use the same address for Delivery and Invoice",-1))])]),t("div",J,[t("div",null,[e[12]||(e[12]=t("label",{class:"block text-sm font-medium text-gray-600"},"Delivery Address",-1)),p(t("textarea",{"onUpdate:modelValue":e[4]||(e[4]=i=>o(r).address.delivery=i),rows:"2",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none h-36 focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(r).address.delivery]])]),t("div",null,[e[13]||(e[13]=t("label",{class:"block text-sm font-medium text-gray-600"},"Invoice Address",-1)),p(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=i=>o(r).address.invoice=i),rows:"2",disabled:o(l),class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none h-36 focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,8,K),[[m,o(r).address.invoice]])])])])]),t("div",Q,[k(u,{onSaveProfile:b})])])}}}),X=Object.assign(W,{__name:"AppUserProfile"}),Y={class:"flex items-center justify-center min-h-screen"},Z={class:"w-full max-w-sm"},ee={class:"text-2xl font-semibold text-center mb-6"},te={key:0},oe={key:1},re={key:2,class:"text-sm text-red-500"},se={type:"submit",class:"px-6 text-center text-sm py-2 uppercase w-full rounded font-bold bg-pottery-light-primary text-white hover:bg-pottery-light-primaryHover active:bg-pottery-light-primaryActive dark:bg-pottery-dark-primary dark:hover:bg-pottery-dark-primaryHover dark:active:bg-pottery-dark-primaryActive focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-pottery-light-accent dark:focus:ring-pottery-dark-accent focus:ring-offset-pottery-light-bg dark:focus:ring-offset-pottery-dark-bg transition"},ne={class:"mt-4 text-center text-sm"},le=w({__name:"AuthForm",setup(x){const{handleLogin:n,handleRegistration:d}=U(),s=y(!1),c=y(""),a=y(""),r=y(""),l=y(""),b=y("");function h(){if(b.value="",s.value){if(r.value!==l.value){b.value="Passwords do not match";return}d(a.value,r.value,c.value)}else n(a.value,r.value)}return(P,e)=>(g(),f("div",Y,[t("div",Z,[t("h1",ee,v(o(s)?"Register":"Login"),1),t("form",{onSubmit:$(h,["prevent"]),class:"space-y-4"},[o(s)?(g(),f("div",te,[e[5]||(e[5]=t("label",{for:"name",class:"block text-sm font-medium"},"Name",-1)),p(t("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>_(c)?c.value=u:null),id:"name",type:"text",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(c)]])])):A("",!0),t("div",null,[e[6]||(e[6]=t("label",{for:"email",class:"block text-sm font-medium"},"Email",-1)),p(t("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>_(a)?a.value=u:null),id:"email",type:"email",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(a)]])]),t("div",null,[e[7]||(e[7]=t("label",{for:"password",class:"block text-sm font-medium"},"Password",-1)),p(t("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>_(r)?r.value=u:null),id:"password",type:"password",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(r)]])]),o(s)?(g(),f("div",oe,[e[8]||(e[8]=t("label",{for:"confirmPassword",class:"block text-sm font-medium"},"Confirm Password",-1)),p(t("input",{"onUpdate:modelValue":e[3]||(e[3]=u=>_(l)?l.value=u:null),id:"confirmPassword",type:"password",required:"",class:"w-full px-4 py-3 border-2 placeholder:text-gray-800 rounded-md outline-none focus:ring-4 border-gray-300 focus:border-gray-600 ring-gray-100"},null,512),[[m,o(l)]])])):A("",!0),o(b)?(g(),f("p",re,v(o(b)),1)):A("",!0),t("button",se,v(o(s)?"Create Account":"Login"),1)],32),t("p",ne,[j(v(o(s)?"Already have an account?":"Don't have an account?")+" ",1),t("button",{class:"text-pottery-light-link font-medium hover:underline",onClick:e[4]||(e[4]=u=>s.value=!o(s))},v(o(s)?"Login":"Register"),1)])])]))}}),ae=Object.assign(le,{__name:"AppAuthForm"}),ie={class:"p-4"},de={key:0},ue={key:1},ge=w({__name:"profile",setup(x){const{authStatus:n}=U(),d=N(()=>n.value);return(s,c)=>{const a=V,r=X,l=ae;return g(),f("div",ie,[k(a,{routePath:"/cart"}),o(d)?(g(),f("div",de,[k(r)])):(g(),f("div",ue,[k(l)]))])}}});export{ge as default};
