import{Q as f,R as i,n as s,z as d}from"#entry";import{u as p}from"./Bpf_WSIJ.js";import{a as w}from"./BxC7GiXD.js";const _=f(async()=>{let e,t;const{waitForAuth:r,isAuthenticated:n}=p(),{role:o,isRoleLoading:u}=w();if([e,t]=i(()=>Promise.race([r(),new Promise(a=>setTimeout(a,5e3))])),await e,t(),!n.value)return s("/profile");if([e,t]=i(()=>new Promise(a=>{const m=d([o,u],([l,c])=>{!c&&l!==null&&(m(),a())})})),await e,t(),o.value!=="admin")return s("/profile")});export{_ as default};
